{"componentChunkName":"component---src-templates-post-tsx","path":"/2020-12-17-nginx-ingress-controller/index/","result":{"data":{"logo":{"childImageSharp":{"fixed":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAAsSAAALEgHS3X78AAABIElEQVQoz52Su0oDQRSGZ8bWVgTBUlGxsbRMYQw2boiNhYKgkEewFKx8DFuLFKbMK9jbiIEU9rnMZSPs+p1ks+7GbeKBj//M7M4/Z86MUkuRpqnyPtY+xMa5YLwX4r+EuQ5HdrZuYn1usJEkSYSewZr6R4zGtlRRHZqYPkJL5ti5BpF1oeZ8uCK/pdIIbaMX6KXkfDvHbH25wns4xmwPnmQuhPiOIw1Z/Iy+MO5CD15Fmeti2CF/e/8YGFkznrjc8AYeoLGokN5twglswSHsww6cYta2zh9Q0TYbHpXMJDDRmF2juzL+7H+t1L+SWVahLpibrIcqu0VdZDr91vNXEAz90xx59j/z0qbfZyKmC+NsXHmLosW8MqgqN6gyWzV+AM1IPLU6r0ZQAAAAAElFTkSuQmCC","width":400,"height":174,"src":"/static/901980ec635ef9ce37ac8ad1c445a1bc/497c6/woojin-logo.png","srcSet":"/static/901980ec635ef9ce37ac8ad1c445a1bc/497c6/woojin-logo.png 1x"}}},"markdownRemark":{"html":"<h1>개요</h1>\n<p>쿠버네티스 클러스터 외부의 트래픽을 정해진 라우팅 규칙을 통해 내부 서비스로 연결해주는\n쿠버네티스 리소스를 <a href=\"https://kubernetes.io/ko/docs/concepts/services-networking/ingress/\">인그레스(ingress)</a> 라고 한다.</p>\n<p>인그레스가 작동하려면 인그레스 컨트롤러가 반드시 필요한데 본 포스팅에서는 Nginx Ingress Controller 를 사용하는 법을 다루려고 한다.</p>\n<h1>실습</h1>\n<h2>Minikube 설치하기</h2>\n<p><a href=\"https://cheong38.github.io/2020-08-27-minikube/index/\">지난 포스팅</a> 을 참고해 설치힌다.</p>\n<h2>Minikube 시작하기</h2>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ minikube start --vm<span class=\"token operator\">=</span>true</code></pre></div>\n<p><code class=\"language-text\">--vm=true</code> 옵션을 주지 않으면 ingress addon 을 설정하는 과정에서 에러가 발생한다.</p>\n<p>만약 <code class=\"language-text\">--vm=true</code> 옵션으로 실행시 에러가 발생한다면, <a href=\"https://www.virtualbox.org/\">VirtualBox</a> 와 같은\n가상머신이 설치되어있는지 확인해보자.</p>\n<h2>ingress addon 설정하기</h2>\n<p>minikube 에서 ingress 를 사용하기 위해서는 addon 을 설정해 주어야 한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ minikube addons <span class=\"token builtin class-name\">enable</span> ingress</code></pre></div>\n<h2>AWS ECR 의 이미지 사용할 수 있도록 설정</h2>\n<p>본 포스팅에서는 <a href=\"https://aws.amazon.com/ko/ecr/\">AWS ECR</a> 에 이미지를 올려놓은 경우를 가정하고 있다.</p>\n<p>따라서 ECR 의 이미지를 받아올 수 있도록 Minikube 에 권한 등을 설정해야 한다.</p>\n<p>이 역시 minikube addon 을 통해 설정할 수 있다.</p>\n<p>자세한 설명은 <a href=\"https://minikube.sigs.k8s.io/docs/tutorials/configuring_creds_for_aws_ecr/\">여기</a> 를 참고한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ minikube addons configure registry-creds</code></pre></div>\n<p>위 명령어 입력 시 아래와 같은 추가 입력을 받을 것이다.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">Do you want to enable AWS Elastic Container Registry? [y/n]: y\n-- Enter AWS Access Key ID: &lt;put_access_key_here&gt;\n-- Enter AWS Secret Access Key: &lt;put_secret_access_key_here&gt;\n-- (Optional) Enter AWS Session Token:\n-- Enter AWS Region: &lt;put_aws_ecr_region&gt;\n-- Enter 12 digit AWS Account ID (Comma separated list): &lt;account_number&gt;\n-- (Optional) Enter ARN of AWS role to assume:\n\nDo you want to enable Google Container Registry? [y/n]: n\n\nDo you want to enable Docker Registry? [y/n]: n\n\nDo you want to enable Azure Container Registry? [y/n]: n\n✅  registry-creds was successfully configured</code></pre></div>\n<p>우리는 ERC 만 설정할 것이므로 <code class=\"language-text\">Do you want to enable AWS Elastic Container Registry? [y/n]</code> 에만 <code class=\"language-text\">y</code>를 선택하고,\n나머지 <code class=\"language-text\">Do you want ~</code> 에는 <code class=\"language-text\">n</code> 을 선택한다.</p>\n<p><code class=\"language-text\">&lt;&gt;</code> 사이의 내용은 적절한 값으로 대체해 넣으면 된다. 빈 칸은 엔터를 치고 넘어가면 된다.</p>\n<h2>Ingress 파일 배포</h2>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">apiVersion</span><span class=\"token punctuation\">:</span> networking.k8s.io/v1beta1\n<span class=\"token key atrule\">kind</span><span class=\"token punctuation\">:</span> Ingress\n<span class=\"token key atrule\">metadata</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> main<span class=\"token punctuation\">-</span>ingress\n  <span class=\"token key atrule\">namespace</span><span class=\"token punctuation\">:</span> main\n<span class=\"token key atrule\">spec</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">rules</span><span class=\"token punctuation\">:</span>\n    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">http</span><span class=\"token punctuation\">:</span>\n        <span class=\"token key atrule\">paths</span><span class=\"token punctuation\">:</span>\n          <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">path</span><span class=\"token punctuation\">:</span> /\n            <span class=\"token key atrule\">pathType</span><span class=\"token punctuation\">:</span> Prefix\n            <span class=\"token key atrule\">backend</span><span class=\"token punctuation\">:</span>\n              <span class=\"token key atrule\">serviceName</span><span class=\"token punctuation\">:</span> web\n              <span class=\"token key atrule\">servicePort</span><span class=\"token punctuation\">:</span> <span class=\"token number\">80</span>\n          <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">path</span><span class=\"token punctuation\">:</span> /api\n            <span class=\"token key atrule\">pathType</span><span class=\"token punctuation\">:</span> Prefix\n            <span class=\"token key atrule\">backend</span><span class=\"token punctuation\">:</span>\n              <span class=\"token key atrule\">serviceName</span><span class=\"token punctuation\">:</span> api\n              <span class=\"token key atrule\">servicePort</span><span class=\"token punctuation\">:</span> <span class=\"token number\">80</span></code></pre></div>\n<p>위의 예시와 같은 ingress 파일을 작성하여 배포해보자. 물론 위의 serviceName 과 servicePort 에 맞는 쿠버네티스 리소스가 설정되어 있어야 한다.</p>\n<h2>접속해보기</h2>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ minikube <span class=\"token function\">ip</span></code></pre></div>\n<p>위의 명령어로 나온 IP 주소를 브라우저에 입력해 접속하면 배포한 서비스에 접근할 수 있을 것이다. </p>","htmlAst":{"type":"root","children":[{"type":"element","tagName":"h1","properties":{},"children":[{"type":"text","value":"개요"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"쿠버네티스 클러스터 외부의 트래픽을 정해진 라우팅 규칙을 통해 내부 서비스로 연결해주는\n쿠버네티스 리소스를 "},{"type":"element","tagName":"a","properties":{"href":"https://kubernetes.io/ko/docs/concepts/services-networking/ingress/"},"children":[{"type":"text","value":"인그레스(ingress)"}]},{"type":"text","value":" 라고 한다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"인그레스가 작동하려면 인그레스 컨트롤러가 반드시 필요한데 본 포스팅에서는 Nginx Ingress Controller 를 사용하는 법을 다루려고 한다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h1","properties":{},"children":[{"type":"text","value":"실습"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"Minikube 설치하기"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://cheong38.github.io/2020-08-27-minikube/index/"},"children":[{"type":"text","value":"지난 포스팅"}]},{"type":"text","value":" 을 참고해 설치힌다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"Minikube 시작하기"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"bash"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-bash"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-bash"]},"children":[{"type":"text","value":"$ minikube start --vm"},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":"true"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"--vm=true"}]},{"type":"text","value":" 옵션을 주지 않으면 ingress addon 을 설정하는 과정에서 에러가 발생한다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"만약 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"--vm=true"}]},{"type":"text","value":" 옵션으로 실행시 에러가 발생한다면, "},{"type":"element","tagName":"a","properties":{"href":"https://www.virtualbox.org/"},"children":[{"type":"text","value":"VirtualBox"}]},{"type":"text","value":" 와 같은\n가상머신이 설치되어있는지 확인해보자."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"ingress addon 설정하기"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"minikube 에서 ingress 를 사용하기 위해서는 addon 을 설정해 주어야 한다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"bash"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-bash"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-bash"]},"children":[{"type":"text","value":"$ minikube addons "},{"type":"element","tagName":"span","properties":{"className":["token","builtin","class-name"]},"children":[{"type":"text","value":"enable"}]},{"type":"text","value":" ingress"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"AWS ECR 의 이미지 사용할 수 있도록 설정"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"본 포스팅에서는 "},{"type":"element","tagName":"a","properties":{"href":"https://aws.amazon.com/ko/ecr/"},"children":[{"type":"text","value":"AWS ECR"}]},{"type":"text","value":" 에 이미지를 올려놓은 경우를 가정하고 있다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"따라서 ECR 의 이미지를 받아올 수 있도록 Minikube 에 권한 등을 설정해야 한다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"이 역시 minikube addon 을 통해 설정할 수 있다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"자세한 설명은 "},{"type":"element","tagName":"a","properties":{"href":"https://minikube.sigs.k8s.io/docs/tutorials/configuring_creds_for_aws_ecr/"},"children":[{"type":"text","value":"여기"}]},{"type":"text","value":" 를 참고한다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"bash"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-bash"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-bash"]},"children":[{"type":"text","value":"$ minikube addons configure registry-creds"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"위 명령어 입력 시 아래와 같은 추가 입력을 받을 것이다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"text"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-text"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Do you want to enable AWS Elastic Container Registry? [y/n]: y\n-- Enter AWS Access Key ID: <put_access_key_here>\n-- Enter AWS Secret Access Key: <put_secret_access_key_here>\n-- (Optional) Enter AWS Session Token:\n-- Enter AWS Region: <put_aws_ecr_region>\n-- Enter 12 digit AWS Account ID (Comma separated list): <account_number>\n-- (Optional) Enter ARN of AWS role to assume:\n\nDo you want to enable Google Container Registry? [y/n]: n\n\nDo you want to enable Docker Registry? [y/n]: n\n\nDo you want to enable Azure Container Registry? [y/n]: n\n✅  registry-creds was successfully configured"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"우리는 ERC 만 설정할 것이므로 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Do you want to enable AWS Elastic Container Registry? [y/n]"}]},{"type":"text","value":" 에만 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"y"}]},{"type":"text","value":"를 선택하고,\n나머지 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Do you want ~"}]},{"type":"text","value":" 에는 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"n"}]},{"type":"text","value":" 을 선택한다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"<>"}]},{"type":"text","value":" 사이의 내용은 적절한 값으로 대체해 넣으면 된다. 빈 칸은 엔터를 치고 넘어가면 된다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"Ingress 파일 배포"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"yaml"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-yaml"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-yaml"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"apiVersion"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" networking.k8s.io/v1beta1\n"},{"type":"element","tagName":"span","properties":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"kind"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" Ingress\n"},{"type":"element","tagName":"span","properties":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"metadata"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"name"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" main"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"-"}]},{"type":"text","value":"ingress\n  "},{"type":"element","tagName":"span","properties":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"namespace"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" main\n"},{"type":"element","tagName":"span","properties":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"spec"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"rules"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"-"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"http"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":"\n        "},{"type":"element","tagName":"span","properties":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"paths"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":"\n          "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"-"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"path"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" /\n            "},{"type":"element","tagName":"span","properties":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"pathType"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" Prefix\n            "},{"type":"element","tagName":"span","properties":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"backend"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":"\n              "},{"type":"element","tagName":"span","properties":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"serviceName"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" web\n              "},{"type":"element","tagName":"span","properties":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"servicePort"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"80"}]},{"type":"text","value":"\n          "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"-"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"path"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" /api\n            "},{"type":"element","tagName":"span","properties":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"pathType"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" Prefix\n            "},{"type":"element","tagName":"span","properties":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"backend"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":"\n              "},{"type":"element","tagName":"span","properties":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"serviceName"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" api\n              "},{"type":"element","tagName":"span","properties":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"servicePort"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"80"}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"위의 예시와 같은 ingress 파일을 작성하여 배포해보자. 물론 위의 serviceName 과 servicePort 에 맞는 쿠버네티스 리소스가 설정되어 있어야 한다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"접속해보기"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"bash"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-bash"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-bash"]},"children":[{"type":"text","value":"$ minikube "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"ip"}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"위의 명령어로 나온 IP 주소를 브라우저에 입력해 접속하면 배포한 서비스에 접근할 수 있을 것이다. "}]}],"data":{"quirksMode":false}},"excerpt":"개요 쿠버네티스 클러스터 외부의 트래픽을 정해진 라우팅 규칙을 통해 내부 서비스로 연결해주는 \n쿠버네티스 리소스를 인그레스(ingress) 라고 한다. 인그레스가 작동하려면 인그레스 컨트롤러가 반드시 필요한데 본 포스팅에서는 Nginx Ingress…","timeToRead":2,"frontmatter":{"title":"Minikube 로 Nginx Ingress Controller 사용하기 (with AWS ECR)","userDate":"17 December 2020","date":"2020-12-17T00:00:00.000Z","tags":["kubernetes","nginx"],"excerpt":null,"image":{"childImageSharp":{"fluid":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAIAAAA7N+mxAAAACXBIWXMAAAsSAAALEgHS3X78AAABgklEQVQoz21RS1LCQBDleHoNV7ryGG4sb+ARLBfqxvJXWiqlZQSMKQKBGDIhX0gYhsxM5oMNYWGVdPWiX0+/7n49jeU/U1pXVaX1Kn63kosn33Ndx3Fs23aH7qZGKahpbCGvH+qYcWF27S/LLPIZQK11GEXtb9NHSAi5hbyEmWoTVkLcDZpX7ftwmtaZztg+71x3XEsK0YBmsxkG1/Wiy6WLIxM5dZxT3EQdy+uNiwSgkMKIuoZnOuEP5azBGPNRgFCAS8JVRSTdeznZOTqwkENkiRmJ8cQvwoJiKimVvGQ0JdNiMV+tXZalN/LB5wsCo4WW+zfHu6eHP2kA5Jzhnjuw+t20mJSKQfcsywbOMIlTKdeaCVmA12trod5aH49GU1YC4JwtbnvNy/ZDmCX1LQ3fOmtft4ag+d/BOOdRGCHPJ4QApBV7DlrGwAyKeHOwpP/qfvbHw5XmLcfWGvTAECEE51WQxqNsXBCslRZSZvkUFMXTdPs/A1mtTa/tb/4vBPsFM8YysRgPNVcAAAAASUVORK5CYII=","aspectRatio":1.9096509240246407,"src":"/static/226a73e7f542fec096542230ef772bf2/f3583/nginx_ingress_controller.png","srcSet":"/static/226a73e7f542fec096542230ef772bf2/c5c6c/nginx_ingress_controller.png 930w,\n/static/226a73e7f542fec096542230ef772bf2/f3583/nginx_ingress_controller.png 1200w","sizes":"(max-width: 1200px) 100vw, 1200px"}}},"author":[{"id":"Woojin","bio":"This is another test author with a profile background image","avatar":{"children":[{"__typename":"ImageSharp","fluid":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAPABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAQBAgP/xAAWAQEBAQAAAAAAAAAAAAAAAAADAQL/2gAMAwEAAhADEAAAAdV5qKgwXH//xAAZEAEBAAMBAAAAAAAAAAAAAAABAgADEgT/2gAIAQEAAQUC27SoISuJy/OsRz0g5//EABcRAQADAAAAAAAAAAAAAAAAAAABAhH/2gAIAQMBAT8BxNH/xAAXEQEAAwAAAAAAAAAAAAAAAAAAAREh/9oACAECAQE/AYxb/8QAGxAAAgMAAwAAAAAAAAAAAAAAAREAAiEQMUH/2gAIAQEABj8CC9iBeaOFWCgZsMc6n//EABsQAQADAQADAAAAAAAAAAAAAAEAESExQVGB/9oACAEBAAE/IXs9PYxNZPCyYB6zWAFPviCw7C9VE7Y//9oADAMBAAIAAwAAABAY7//EABYRAQEBAAAAAAAAAAAAAAAAAAEAEf/aAAgBAwEBPxDeJIt//8QAFxEBAQEBAAAAAAAAAAAAAAAAAQARUf/aAAgBAgEBPxBAMbfb/8QAGxABAQACAwEAAAAAAAAAAAAAAREAMSFBUYH/2gAIAQEAAT8Qb0BngyYMN1g0Xzu5DRTRVwq5Wq4D5nJCmiAqB5rJ3rJYZ//Z","aspectRatio":1.3333333333333333,"src":"/static/e51acbf8a0e98b7912a2f1b775f15047/2f1b1/woojin.jpg","srcSet":"/static/e51acbf8a0e98b7912a2f1b775f15047/b3d27/woojin.jpg 40w,\n/static/e51acbf8a0e98b7912a2f1b775f15047/5a735/woojin.jpg 80w,\n/static/e51acbf8a0e98b7912a2f1b775f15047/6e81a/woojin.jpg 120w,\n/static/e51acbf8a0e98b7912a2f1b775f15047/2f1b1/woojin.jpg 800w,\n/static/e51acbf8a0e98b7912a2f1b775f15047/c4b07/woojin.jpg 1440w","sizes":"(max-width: 800px) 100vw, 800px"}}]}}]}},"relatedPosts":{"totalCount":1,"edges":[{"node":{"id":"33ca5fd2-bafd-5faa-962f-1e184d7c7983","timeToRead":2,"excerpt":"개요 쿠버네티스 클러스터 외부의 트래픽을 정해진 라우팅 규칙을 통해 내부 서비스로 연결해주는 \n쿠버네티스 리소스를 인그레스(ingress) 라고 한다. 인그레스가 작동하려면 인그레스 컨트롤러가 반드시 필요한데 본 포스팅에서는 Nginx Ingress…","frontmatter":{"title":"Minikube 로 Nginx Ingress Controller 사용하기 (with AWS ECR)","date":"2020-12-17T00:00:00.000Z"},"fields":{"slug":"/2020-12-17-nginx-ingress-controller/index/"}}}]}},"pageContext":{"slug":"/2020-12-17-nginx-ingress-controller/index/","prev":{"excerpt":"FF(Fast Forward) git 에서 Fast Forward 현재 브랜치와 Merge 하려는 브랜치가 선형 관계에 있어 Merge 결과 별도의 커밋 없이 커밋을 위에 쌓기만 하는 것을 말한다. 그림으로 살펴보면 아래와 같다.  branch-…","timeToRead":1,"frontmatter":{"title":"(TIL) Git Merge --no-ff","tags":["git"],"date":"2020-09-11T00:00:00.000Z","draft":false,"excerpt":null,"image":{"childImageSharp":{"fluid":{"aspectRatio":2.3947368421052633,"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAAsSAAALEgHS3X78AAABbklEQVQoz23STStEURzH8eOpiIksJG9AyWjMHWZGDFlJmBm3PK6kLEYWJi+AkmKhWIjssfBMeQNkMaVpJM9lYyE0E5qMWRzfc52pWTj16X/uPff87v90r0j4nTnxgJEnGMwX8Qibuo77ndb9526HaLGLXJE1mmtFOZLo0NfV1sLLsFfosBHMI40LlKj77zpUbyqGjfA8HTiJSoSxj7JM2LQc8krqLKpkv1vNb+O6Ux02hnOc4gCjiCCER7xi0zpmynTJZK9LhdzDRAgPBF5+BIwKFUhXn2wYwARi+iUJ+Flbou5lurv5MRvkV9BQgdc4Rhgzst8jX3ocTeq5VrtYY9MZTjCuA5/QRuAqdUcHGmVsjshBjwrcRJfsc1sd02Ew68hHeMM2GlHvqxOSOocppLCR6bKU4DtqFAvff8c31ZqUUoUV4QrL2NJBHWiFF4Voh0+FZX4ZOjWiaY6f0J3FOmvys77uIVawjl0UiH/GL9wBtPP+UkP6AAAAAElFTkSuQmCC","sizes":"(max-width: 910px) 100vw, 910px","src":"/static/1b3432324c2162b2e05a2adfa0141511/a005f/git.png","srcSet":"/static/1b3432324c2162b2e05a2adfa0141511/a005f/git.png 910w"}}},"author":[{"id":"Woojin","bio":"This is another test author with a profile background image","avatar":{"children":[{"fluid":{"aspectRatio":1.3333333333333333,"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAPABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAQBAgP/xAAWAQEBAQAAAAAAAAAAAAAAAAADAQL/2gAMAwEAAhADEAAAAdV5qKgwXH//xAAZEAEBAAMBAAAAAAAAAAAAAAABAgADEgT/2gAIAQEAAQUC27SoISuJy/OsRz0g5//EABcRAQADAAAAAAAAAAAAAAAAAAABAhH/2gAIAQMBAT8BxNH/xAAXEQEAAwAAAAAAAAAAAAAAAAAAAREh/9oACAECAQE/AYxb/8QAGxAAAgMAAwAAAAAAAAAAAAAAAREAAiEQMUH/2gAIAQEABj8CC9iBeaOFWCgZsMc6n//EABsQAQADAQADAAAAAAAAAAAAAAEAESExQVGB/9oACAEBAAE/IXs9PYxNZPCyYB6zWAFPviCw7C9VE7Y//9oADAMBAAIAAwAAABAY7//EABYRAQEBAAAAAAAAAAAAAAAAAAEAEf/aAAgBAwEBPxDeJIt//8QAFxEBAQEBAAAAAAAAAAAAAAAAAQARUf/aAAgBAgEBPxBAMbfb/8QAGxABAQACAwEAAAAAAAAAAAAAAREAMSFBUYH/2gAIAQEAAT8Qb0BngyYMN1g0Xzu5DRTRVwq5Wq4D5nJCmiAqB5rJ3rJYZ//Z","sizes":"(max-width: 800px) 100vw, 800px","src":"/static/e51acbf8a0e98b7912a2f1b775f15047/2f1b1/woojin.jpg","srcSet":"/static/e51acbf8a0e98b7912a2f1b775f15047/fd013/woojin.jpg 200w,\n/static/e51acbf8a0e98b7912a2f1b775f15047/25252/woojin.jpg 400w,\n/static/e51acbf8a0e98b7912a2f1b775f15047/2f1b1/woojin.jpg 800w,\n/static/e51acbf8a0e98b7912a2f1b775f15047/0ff54/woojin.jpg 1200w,\n/static/e51acbf8a0e98b7912a2f1b775f15047/c4b07/woojin.jpg 1440w"}}]}}]},"fields":{"layout":"","slug":"/2020-09-11-til-git-merge-no-ff/index/"}},"next":null,"primaryTag":"kubernetes"}},"staticQueryHashes":["1065875448","4129920265"]}