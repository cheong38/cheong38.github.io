{"componentChunkName":"component---src-templates-post-tsx","path":"/2020-09-08-env-static-web/index/","result":{"data":{"logo":{"childImageSharp":{"fixed":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAAsSAAALEgHS3X78AAABIElEQVQoz52Su0oDQRSGZ8bWVgTBUlGxsbRMYQw2boiNhYKgkEewFKx8DFuLFKbMK9jbiIEU9rnMZSPs+p1ks+7GbeKBj//M7M4/Z86MUkuRpqnyPtY+xMa5YLwX4r+EuQ5HdrZuYn1usJEkSYSewZr6R4zGtlRRHZqYPkJL5ti5BpF1oeZ8uCK/pdIIbaMX6KXkfDvHbH25wns4xmwPnmQuhPiOIw1Z/Iy+MO5CD15Fmeti2CF/e/8YGFkznrjc8AYeoLGokN5twglswSHsww6cYta2zh9Q0TYbHpXMJDDRmF2juzL+7H+t1L+SWVahLpibrIcqu0VdZDr91vNXEAz90xx59j/z0qbfZyKmC+NsXHmLosW8MqgqN6gyWzV+AM1IPLU6r0ZQAAAAAElFTkSuQmCC","width":400,"height":174,"src":"/static/901980ec635ef9ce37ac8ad1c445a1bc/497c6/woojin-logo.png","srcSet":"/static/901980ec635ef9ce37ac8ad1c445a1bc/497c6/woojin-logo.png 1x"}}},"markdownRemark":{"html":"<h1>개요</h1>\n<p>앱을 작성하고 빌드하다보면 환경 별로 서로 다른 값을 사용해야 하는 값들이 있다.\n이러한 설정 값을 환경 변수라고 부른다.\n일반적으로 development, staging(qa), production 과 같이 환경을 나누어 사용한다.\n그리고 <a href=\"https://12factor.net/ko/config\">12 factors app 에서 가이드</a>하고 있는 바는 설정 값은 코드에 상수로 저장하기보다는 설정을 코드에서 엄격히 분리하라고 가이드 한다.</p>\n<p>서버 환경에서는 동적으로 환경 변수를 주입해 줄 수 있다.\nNodejs 에서는 일반적으로 NODE_ENV 라는 변수에 development, staging, production 과 같은 값을 넣고,\n<a href=\"https://www.npmjs.com/package/config\">node-config</a> 와 같은 라이브러를 사용하여 런타임에 적절한 환경 설정 값을 사용할 수 있게 한다.</p>\n<p>그러나 React, Vue 와 같은 SPA (Single Page Application) 를 작성하면 설정 값의 주입이 정적 시간, 즉 빌드 시간에 이루어지기 때문에 서버 환경에서와 같은 방법을 사용할 수 없다.\n이를 해결하기 위한 방법으로 다음과 같은 방법이 있다.</p>\n<p>(본 포스팅에서는 AWS S3 와 같은 정적 호스팅을 이용하지 않고 nginx 환경에서 배포하는 환경에서의 방법을 논한다.)</p>\n<ol>\n<li>환경 별로 서로 다른 빌드를 만든다.</li>\n<li>Nginx 와 같은 웹 서버 실행 시 스크립트를 통해 환경 변수를 넣어준다.</li>\n</ol>\n<h1>환경 별로 서로 다른 빌드를 만든다.</h1>\n<p>빌드 시에 개발용 환경 변수, QA 용 환경 변수, 상용 환경 변수를 선택하여 빌드하고 배포하는 방식이다.</p>\n<p>개발용으로 빌드할 때에는 아래와 같이 실행하고,</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">$ <span class=\"token assign-left variable\">NODE_ENV</span><span class=\"token operator\">=</span>development <span class=\"token function\">yarn</span> build</code></pre></div>\n<p>상용으로 빌드할 때에는 아래와 같이 실행한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">$ <span class=\"token assign-left variable\">NODE_ENV</span><span class=\"token operator\">=</span>production <span class=\"token function\">yarn</span> build</code></pre></div>\n<p>그 결과로 나온 빌드 파일을 nginx 와 함께 배포한다.</p>\n<p>단순하고 직관적이지만 환경에 따라 앱 자체가 달라지는 것이 아님에도 불구하고 매번 빌드를 해줘야 한다는 단점이 있다.</p>\n<h1>Nginx 와 같은 웹 서버 실행 시 스크립트를 통해 환경 변수를 넣어준다.</h1>\n<p><code class=\"language-text\">Docker</code>, <code class=\"language-text\">React</code> 그리고 Nginx 로 구성된 예시를 살펴보자.</p>\n<p>React 에서의 예를 살펴보자.\nReact 에서는 기본적으로 dotenv 를 사용한다.\n<code class=\"language-text\">.env</code>, <code class=\"language-text\">.env.development</code>, <code class=\"language-text\">.env.production</code> 이 각각 기본값, 개발용, 상용 환경 변수 값을 담고 있다.</p>\n<p>nginx 실행 시, 주입되어 있는 <code class=\"language-text\">NODE_ENV</code> 의 값과 환경 변수에 따라 환경 설정 값을 담은 js 파일을 생성하여\nindex.html` 에 주입시켜주는 방식이다.</p>\n<h2>dotenv 를 파싱하여 js 파일 만들어주기</h2>\n<p>다음과 같이 <code class=\"language-text\">env.sh</code> 파일을 작성해준다.</p>\n<div class=\"gatsby-highlight\" data-language=\"shellscript\"><pre class=\"language-shellscript\"><code class=\"language-shellscript\">#!/bin/bash\n\n# NOTE: You need to install bash version 4 or above.\n# This script makes use of associative arrays.\n# https://stackoverflow.com/questions/1494178/how-to-define-hash-tables-in-bash\n\nset -e\n\ndeclare -A key_values\nreadonly CURRENT_DIR=$(dirname &quot;$0&quot;)\nreadonly DIST=&quot;$CURRENT_DIR&quot;/env-config.js\n\nfunction trim() {\n    local var=&quot;$*&quot;\n    # remove leading whitespace characters\n    var=&quot;${var#&quot;${var%%[![:space:]]*}&quot;}&quot;\n    # remove trailing whitespace characters\n    var=&quot;${var%&quot;${var##*[![:space:]]}&quot;}&quot;\n    printf &#39;%s&#39; &quot;$var&quot;\n}\n\nfunction read_env() {\n  local env_filename=$1\n\n  # Read each line in .env file\n  # Each line represents key=value pairs\n  while read -r line || [[ -n &quot;$line&quot; ]];\n  do\n    line=$(trim $line)\n\n    # Ignore empty string\n    if [ -z &quot;$line&quot; ]; then\n      continue\n    fi\n\n    # Ignore comments\n    first_letter=$(echo $line | head -c 1)\n    if [ &quot;$first_letter&quot; = &#39;#&#39; ]; then\n      continue\n    fi\n\n    # Split env variables by character `=`\n    if printf &#39;%s\\n&#39; &quot;$line&quot; | grep -q -e &#39;=&#39;; then\n      varname=$(printf &#39;%s\\n&#39; &quot;$line&quot; | sed -e &#39;s/=.*//&#39;)\n      varvalue=$(printf &#39;%s\\n&#39; &quot;$line&quot; | sed -e &#39;s/^[^=]*=//&#39;)\n    fi\n\n    key_values[$varname]=${varvalue}\n  done &lt; &quot;$CURRENT_DIR/$env_filename&quot;\n}\n\nfunction read_env_from_environment_variables() {\n  # Read value of current variable if exists as Environment variable\n  # If value does not exist as Environment variable, use current value from above.\n  for key in &quot;${!key_values[@]}&quot;; do\n    value=$(printf &#39;%s\\n&#39; &quot;${!key}&quot;)\n    # If value\n    [[ -z $value ]] &amp;&amp; value=${key_values[$key]}\n    key_values[$key]=$value\n  done\n}\n\n# Recreate config file\nrm -f &quot;$DIST&quot;\ntouch &quot;$DIST&quot;\n\nread_env &quot;.env&quot;\nread_env &quot;.env.${NODE_ENV}&quot;\nread_env_from_environment_variables\n\n# Add assignment\necho &quot;window._env_ = {&quot; &gt;&gt; &quot;$DIST&quot;\n\n# Append configuration property to JS file\nfor key in &quot;${!key_values[@]}&quot;; do\n  echo &quot;  $key: &#39;${key_values[$key]}&#39;,&quot; &gt;&gt; &quot;$DIST&quot;\ndone\n\n# Add the closing brace\necho &quot;}&quot; &gt;&gt; &quot;$DIST&quot;</code></pre></div>\n<p>이 스크립트는 <code class=\"language-text\">.env</code> 와 <code class=\"language-text\">.env.{NODE_ENV}</code> 그리고 shell 에 설정된 환경 변수 값을 읽어서 <code class=\"language-text\">env-config.js</code> 에서 자바스크립트 객체로 만들어준다.</p>\n<h2><code class=\"language-text\">env-config.js</code> 를 <code class=\"language-text\">index.html</code> 에 주입하기</h2>\n<p>React 기본 구조 상에서 <code class=\"language-text\">public/index.html</code> 의 헤더 부분에 다음과 같이 <code class=\"language-text\">env-config.js</code> 를 넣어주는 태그를 추가한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>%PUBLIC_URL%/env-config.js<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token script\"></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<h2>Dockerfile 작성하기</h2>\n<p>Nginx 를 사용하여 배포하는 것은 <a href=\"https://dev.to/subhransu/nevertheless-subhransu-maharana-coded-5eam\">다른 포스팅</a>을 참고하여 작성하고, 추가적으로 <code class=\"language-text\">env.sh</code> 를 Docker 컨테이너에 추가하고, nginx 실행 전에 실행시켜 <code class=\"language-text\">env-config.js</code> 파일이 생성되도록 한다.\n그리고 아래의 설정을 Dockerfile 에 추가해준다.</p>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\">COPY ./env.sh .\nCOPY .env .\nCOPY .env.development .\nCOPY .env.production .\n\nRUN apk add <span class=\"token punctuation\">-</span><span class=\"token punctuation\">-</span>no<span class=\"token punctuation\">-</span>cache bash\n\nRUN chmod +x env.sh\n\nCMD <span class=\"token punctuation\">[</span><span class=\"token string\">\"/bin/bash\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"-c\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"/usr/share/nginx/html/env.sh &amp;&amp; nginx -g \\\"daemon off;\\\"\"</span><span class=\"token punctuation\">]</span></code></pre></div>\n<h2>실행하기</h2>\n<p>이제 런타임에 환경 설정 값을 변경할 준비가 되었다.</p>\n<p>개발용으로 실행시킬 때는 아래와 같이 실행할 수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">$ docker run -it -p <span class=\"token number\">80</span>:80 -e <span class=\"token assign-left variable\">NODE_ENV</span><span class=\"token operator\">=</span>development <span class=\"token punctuation\">{</span>DOCKER_IMAGE<span class=\"token punctuation\">}</span></code></pre></div>\n<p>상용으로 실행시킬 때는 아래와 같이 실행시킬 수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">$ docker run -it -p <span class=\"token number\">80</span>:80 -e <span class=\"token assign-left variable\">NODE_ENV</span><span class=\"token operator\">=</span>production <span class=\"token punctuation\">{</span>DOCKER_IMAGE<span class=\"token punctuation\">}</span></code></pre></div>\n<h1>참고</h1>\n<ul>\n<li><a href=\"https://www.freecodecamp.org/news/how-to-implement-runtime-environment-variables-with-create-react-app-docker-and-nginx-7f9d42a91d70/\">https://www.freecodecamp.org/news/how-to-implement-runtime-environment-variables-with-create-react-app-docker-and-nginx-7f9d42a91d70/</a></li>\n</ul>","htmlAst":{"type":"root","children":[{"type":"element","tagName":"h1","properties":{},"children":[{"type":"text","value":"개요"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"앱을 작성하고 빌드하다보면 환경 별로 서로 다른 값을 사용해야 하는 값들이 있다.\n이러한 설정 값을 환경 변수라고 부른다.\n일반적으로 development, staging(qa), production 과 같이 환경을 나누어 사용한다.\n그리고 "},{"type":"element","tagName":"a","properties":{"href":"https://12factor.net/ko/config"},"children":[{"type":"text","value":"12 factors app 에서 가이드"}]},{"type":"text","value":"하고 있는 바는 설정 값은 코드에 상수로 저장하기보다는 설정을 코드에서 엄격히 분리하라고 가이드 한다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"서버 환경에서는 동적으로 환경 변수를 주입해 줄 수 있다.\nNodejs 에서는 일반적으로 NODE_ENV 라는 변수에 development, staging, production 과 같은 값을 넣고,\n"},{"type":"element","tagName":"a","properties":{"href":"https://www.npmjs.com/package/config"},"children":[{"type":"text","value":"node-config"}]},{"type":"text","value":" 와 같은 라이브러를 사용하여 런타임에 적절한 환경 설정 값을 사용할 수 있게 한다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"그러나 React, Vue 와 같은 SPA (Single Page Application) 를 작성하면 설정 값의 주입이 정적 시간, 즉 빌드 시간에 이루어지기 때문에 서버 환경에서와 같은 방법을 사용할 수 없다.\n이를 해결하기 위한 방법으로 다음과 같은 방법이 있다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"(본 포스팅에서는 AWS S3 와 같은 정적 호스팅을 이용하지 않고 nginx 환경에서 배포하는 환경에서의 방법을 논한다.)"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ol","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"환경 별로 서로 다른 빌드를 만든다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Nginx 와 같은 웹 서버 실행 시 스크립트를 통해 환경 변수를 넣어준다."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h1","properties":{},"children":[{"type":"text","value":"환경 별로 서로 다른 빌드를 만든다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"빌드 시에 개발용 환경 변수, QA 용 환경 변수, 상용 환경 변수를 선택하여 빌드하고 배포하는 방식이다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"개발용으로 빌드할 때에는 아래와 같이 실행하고,"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"shell"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-shell"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-shell"]},"children":[{"type":"text","value":"$ "},{"type":"element","tagName":"span","properties":{"className":["token","assign-left","variable"]},"children":[{"type":"text","value":"NODE_ENV"}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":"development "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"yarn"}]},{"type":"text","value":" build"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"상용으로 빌드할 때에는 아래와 같이 실행한다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"shell"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-shell"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-shell"]},"children":[{"type":"text","value":"$ "},{"type":"element","tagName":"span","properties":{"className":["token","assign-left","variable"]},"children":[{"type":"text","value":"NODE_ENV"}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":"production "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"yarn"}]},{"type":"text","value":" build"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"그 결과로 나온 빌드 파일을 nginx 와 함께 배포한다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"단순하고 직관적이지만 환경에 따라 앱 자체가 달라지는 것이 아님에도 불구하고 매번 빌드를 해줘야 한다는 단점이 있다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h1","properties":{},"children":[{"type":"text","value":"Nginx 와 같은 웹 서버 실행 시 스크립트를 통해 환경 변수를 넣어준다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Docker"}]},{"type":"text","value":", "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"React"}]},{"type":"text","value":" 그리고 Nginx 로 구성된 예시를 살펴보자."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"React 에서의 예를 살펴보자.\nReact 에서는 기본적으로 dotenv 를 사용한다.\n"},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":".env"}]},{"type":"text","value":", "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":".env.development"}]},{"type":"text","value":", "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":".env.production"}]},{"type":"text","value":" 이 각각 기본값, 개발용, 상용 환경 변수 값을 담고 있다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"nginx 실행 시, 주입되어 있는 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"NODE_ENV"}]},{"type":"text","value":" 의 값과 환경 변수에 따라 환경 설정 값을 담은 js 파일을 생성하여\nindex.html` 에 주입시켜주는 방식이다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"dotenv 를 파싱하여 js 파일 만들어주기"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"다음과 같이 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"env.sh"}]},{"type":"text","value":" 파일을 작성해준다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"shellscript"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-shellscript"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-shellscript"]},"children":[{"type":"text","value":"#!/bin/bash\n\n# NOTE: You need to install bash version 4 or above.\n# This script makes use of associative arrays.\n# https://stackoverflow.com/questions/1494178/how-to-define-hash-tables-in-bash\n\nset -e\n\ndeclare -A key_values\nreadonly CURRENT_DIR=$(dirname \"$0\")\nreadonly DIST=\"$CURRENT_DIR\"/env-config.js\n\nfunction trim() {\n    local var=\"$*\"\n    # remove leading whitespace characters\n    var=\"${var#\"${var%%[![:space:]]*}\"}\"\n    # remove trailing whitespace characters\n    var=\"${var%\"${var##*[![:space:]]}\"}\"\n    printf '%s' \"$var\"\n}\n\nfunction read_env() {\n  local env_filename=$1\n\n  # Read each line in .env file\n  # Each line represents key=value pairs\n  while read -r line || [[ -n \"$line\" ]];\n  do\n    line=$(trim $line)\n\n    # Ignore empty string\n    if [ -z \"$line\" ]; then\n      continue\n    fi\n\n    # Ignore comments\n    first_letter=$(echo $line | head -c 1)\n    if [ \"$first_letter\" = '#' ]; then\n      continue\n    fi\n\n    # Split env variables by character `=`\n    if printf '%s\\n' \"$line\" | grep -q -e '='; then\n      varname=$(printf '%s\\n' \"$line\" | sed -e 's/=.*//')\n      varvalue=$(printf '%s\\n' \"$line\" | sed -e 's/^[^=]*=//')\n    fi\n\n    key_values[$varname]=${varvalue}\n  done < \"$CURRENT_DIR/$env_filename\"\n}\n\nfunction read_env_from_environment_variables() {\n  # Read value of current variable if exists as Environment variable\n  # If value does not exist as Environment variable, use current value from above.\n  for key in \"${!key_values[@]}\"; do\n    value=$(printf '%s\\n' \"${!key}\")\n    # If value\n    [[ -z $value ]] && value=${key_values[$key]}\n    key_values[$key]=$value\n  done\n}\n\n# Recreate config file\nrm -f \"$DIST\"\ntouch \"$DIST\"\n\nread_env \".env\"\nread_env \".env.${NODE_ENV}\"\nread_env_from_environment_variables\n\n# Add assignment\necho \"window._env_ = {\" >> \"$DIST\"\n\n# Append configuration property to JS file\nfor key in \"${!key_values[@]}\"; do\n  echo \"  $key: '${key_values[$key]}',\" >> \"$DIST\"\ndone\n\n# Add the closing brace\necho \"}\" >> \"$DIST\""}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"이 스크립트는 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":".env"}]},{"type":"text","value":" 와 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":".env.{NODE_ENV}"}]},{"type":"text","value":" 그리고 shell 에 설정된 환경 변수 값을 읽어서 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"env-config.js"}]},{"type":"text","value":" 에서 자바스크립트 객체로 만들어준다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"env-config.js"}]},{"type":"text","value":" 를 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"index.html"}]},{"type":"text","value":" 에 주입하기"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"React 기본 구조 상에서 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"public/index.html"}]},{"type":"text","value":" 의 헤더 부분에 다음과 같이 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"env-config.js"}]},{"type":"text","value":" 를 넣어주는 태그를 추가한다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"html"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-html"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-html"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","tag"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","tag"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"<"}]},{"type":"text","value":"script"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","attr-name"]},"children":[{"type":"text","value":"src"}]},{"type":"element","tagName":"span","properties":{"className":["token","attr-value"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","punctuation","attr-equals"]},"children":[{"type":"text","value":"="}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"\""}]},{"type":"text","value":"%PUBLIC_URL%/env-config.js"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"\""}]}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":">"}]}]},{"type":"element","tagName":"span","properties":{"className":["token","script"]},"children":[]},{"type":"element","tagName":"span","properties":{"className":["token","tag"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","tag"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"</"}]},{"type":"text","value":"script"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":">"}]}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"Dockerfile 작성하기"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Nginx 를 사용하여 배포하는 것은 "},{"type":"element","tagName":"a","properties":{"href":"https://dev.to/subhransu/nevertheless-subhransu-maharana-coded-5eam"},"children":[{"type":"text","value":"다른 포스팅"}]},{"type":"text","value":"을 참고하여 작성하고, 추가적으로 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"env.sh"}]},{"type":"text","value":" 를 Docker 컨테이너에 추가하고, nginx 실행 전에 실행시켜 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"env-config.js"}]},{"type":"text","value":" 파일이 생성되도록 한다.\n그리고 아래의 설정을 Dockerfile 에 추가해준다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"yaml"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-yaml"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-yaml"]},"children":[{"type":"text","value":"COPY ./env.sh .\nCOPY .env .\nCOPY .env.development .\nCOPY .env.production .\n\nRUN apk add "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"-"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"-"}]},{"type":"text","value":"no"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"-"}]},{"type":"text","value":"cache bash\n\nRUN chmod +x env.sh\n\nCMD "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"["}]},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"/bin/bash\""}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"-c\""}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"/usr/share/nginx/html/env.sh && nginx -g \\\"daemon off;\\\"\""}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"]"}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"실행하기"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"이제 런타임에 환경 설정 값을 변경할 준비가 되었다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"개발용으로 실행시킬 때는 아래와 같이 실행할 수 있다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"shell"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-shell"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-shell"]},"children":[{"type":"text","value":"$ docker run -it -p "},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"80"}]},{"type":"text","value":":80 -e "},{"type":"element","tagName":"span","properties":{"className":["token","assign-left","variable"]},"children":[{"type":"text","value":"NODE_ENV"}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":"development "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"DOCKER_IMAGE"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"상용으로 실행시킬 때는 아래와 같이 실행시킬 수 있다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"shell"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-shell"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-shell"]},"children":[{"type":"text","value":"$ docker run -it -p "},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"80"}]},{"type":"text","value":":80 -e "},{"type":"element","tagName":"span","properties":{"className":["token","assign-left","variable"]},"children":[{"type":"text","value":"NODE_ENV"}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":"production "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"DOCKER_IMAGE"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h1","properties":{},"children":[{"type":"text","value":"참고"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://www.freecodecamp.org/news/how-to-implement-runtime-environment-variables-with-create-react-app-docker-and-nginx-7f9d42a91d70/"},"children":[{"type":"text","value":"https://www.freecodecamp.org/news/how-to-implement-runtime-environment-variables-with-create-react-app-docker-and-nginx-7f9d42a91d70/"}]}]},{"type":"text","value":"\n"}]}],"data":{"quirksMode":false}},"excerpt":"개요 앱을 작성하고 빌드하다보면 환경 별로 서로 다른 값을 사용해야 하는 값들이 있다.\n이러한 설정 값을 환경 변수라고 부른다.\n일반적으로 development, staging(qa), production 과 같이 환경을 나누어 사용한다.\n그리고 1…","timeToRead":4,"frontmatter":{"title":"정적 웹페이지(Static web)에 환경 변수 사용하기","userDate":"8 September 2020","date":"2020-09-08T00:00:00.000Z","tags":["nginx"],"excerpt":null,"image":{"childImageSharp":{"fluid":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAAsSAAALEgHS3X78AAABKklEQVQoz42Ru0pDQRCGTy6KkLPa2/kAFmkjpEoQYRZvxGgRxCqIJF4qaxsRLMRij6DRIhASEQkpokWKFKn0JXwA67Tx25yNeGx04WNmdv6ZnWU8zx0/0N5/jgok+YdAH0HKNxKn6S7+FFSV0ddQ9o22mi3yeeySq1mGDTiABLpZOEaT9NTd6ohGDT+QGew7ggr0oaCMdLjP4Z9DneanFM2r2pqtuWXaJ/LP3L2Qb00m7MIN3EMbegj3sXsuPoQduICGbcw0NNNnEFcP6yPs8OeX35y1r3yCwACu4MN+E5pMdGl/g7/IpMVx40BeocaUj7Z+soyVsTV6jsti6MsmohPivNNk8NMUZ91iFoizsB3mZRq/BOHCaBb73raRyNIQxyKx0YlfW4/ovwClxoMnbpn3hgAAAABJRU5ErkJggg==","aspectRatio":2.980769230769231,"src":"/static/af0e54b643787d22919c6965ea936aa0/76f6f/nginx.png","srcSet":"/static/af0e54b643787d22919c6965ea936aa0/c5c6c/nginx.png 930w,\n/static/af0e54b643787d22919c6965ea936aa0/fe828/nginx.png 1860w,\n/static/af0e54b643787d22919c6965ea936aa0/76f6f/nginx.png 1921w","sizes":"(max-width: 1921px) 100vw, 1921px"}}},"author":[{"id":"Woojin","bio":"This is another test author with a profile background image","avatar":{"children":[{"__typename":"ImageSharp","fluid":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAPABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAQBAgP/xAAWAQEBAQAAAAAAAAAAAAAAAAADAQL/2gAMAwEAAhADEAAAAdV5qKgwXH//xAAZEAEBAAMBAAAAAAAAAAAAAAABAgADEgT/2gAIAQEAAQUC27SoISuJy/OsRz0g5//EABcRAQADAAAAAAAAAAAAAAAAAAABAhH/2gAIAQMBAT8BxNH/xAAXEQEAAwAAAAAAAAAAAAAAAAAAAREh/9oACAECAQE/AYxb/8QAGxAAAgMAAwAAAAAAAAAAAAAAAREAAiEQMUH/2gAIAQEABj8CC9iBeaOFWCgZsMc6n//EABsQAQADAQADAAAAAAAAAAAAAAEAESExQVGB/9oACAEBAAE/IXs9PYxNZPCyYB6zWAFPviCw7C9VE7Y//9oADAMBAAIAAwAAABAY7//EABYRAQEBAAAAAAAAAAAAAAAAAAEAEf/aAAgBAwEBPxDeJIt//8QAFxEBAQEBAAAAAAAAAAAAAAAAAQARUf/aAAgBAgEBPxBAMbfb/8QAGxABAQACAwEAAAAAAAAAAAAAAREAMSFBUYH/2gAIAQEAAT8Qb0BngyYMN1g0Xzu5DRTRVwq5Wq4D5nJCmiAqB5rJ3rJYZ//Z","aspectRatio":1.3333333333333333,"src":"/static/e51acbf8a0e98b7912a2f1b775f15047/2f1b1/woojin.jpg","srcSet":"/static/e51acbf8a0e98b7912a2f1b775f15047/b3d27/woojin.jpg 40w,\n/static/e51acbf8a0e98b7912a2f1b775f15047/5a735/woojin.jpg 80w,\n/static/e51acbf8a0e98b7912a2f1b775f15047/6e81a/woojin.jpg 120w,\n/static/e51acbf8a0e98b7912a2f1b775f15047/2f1b1/woojin.jpg 800w,\n/static/e51acbf8a0e98b7912a2f1b775f15047/c4b07/woojin.jpg 1440w","sizes":"(max-width: 800px) 100vw, 800px"}}]}}]}},"relatedPosts":{"totalCount":3,"edges":[{"node":{"id":"cb50cfd3-f7bf-5f2a-85fb-c241ae9f2900","timeToRead":4,"excerpt":"nginx ingress controller…","frontmatter":{"title":"Kubernetes Nginx Ingress Controller Auth(인증) 사용하기","date":"2020-12-19T00:00:00.000Z"},"fields":{"slug":"/2020-12-19-nginx-ingress-controller-auth/index/"}}},{"node":{"id":"33ca5fd2-bafd-5faa-962f-1e184d7c7983","timeToRead":2,"excerpt":"개요 쿠버네티스 클러스터 외부의 트래픽을 정해진 라우팅 규칙을 통해 내부 서비스로 연결해주는 \n쿠버네티스 리소스를 인그레스(ingress) 라고 한다. 인그레스가 작동하려면 인그레스 컨트롤러가 반드시 필요한데 본 포스팅에서는 Nginx Ingress…","frontmatter":{"title":"Minikube 로 Nginx Ingress Controller 사용하기 (with AWS ECR)","date":"2020-12-17T00:00:00.000Z"},"fields":{"slug":"/2020-12-17-nginx-ingress-controller/index/"}}},{"node":{"id":"431301dc-602d-52f3-acec-e4bfcf880141","timeToRead":4,"excerpt":"개요 앱을 작성하고 빌드하다보면 환경 별로 서로 다른 값을 사용해야 하는 값들이 있다.\n이러한 설정 값을 환경 변수라고 부른다.\n일반적으로 development, staging(qa), production 과 같이 환경을 나누어 사용한다.\n그리고 1…","frontmatter":{"title":"정적 웹페이지(Static web)에 환경 변수 사용하기","date":"2020-09-08T00:00:00.000Z"},"fields":{"slug":"/2020-09-08-env-static-web/index/"}}}]}},"pageContext":{"slug":"/2020-09-08-env-static-web/index/","prev":{"excerpt":"개요 Redis 는 일반적으로 데이터베이스 캐시와 메세지 브로커로 쓰이는 오픈소스로 된 인메모리 데이터 저장소이다.\nRedis 에서는 pub/sub 기능도 제공하는데, 여기서 자세한 내용을 찾아볼 수 있다.\nRedis pub/sub…","timeToRead":3,"frontmatter":{"title":"Redis 를 메세지 큐 (Message Queue) 로 사용하기 (feat. Bull)","tags":["redis"],"date":"2020-08-28T00:00:00.000Z","draft":false,"excerpt":null,"image":{"childImageSharp":{"fluid":{"aspectRatio":3.089700996677741,"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAIAAABM9SnKAAAACXBIWXMAAAsSAAALEgHS3X78AAAA5UlEQVQY02P4gArev3//4dv3j9++Q9jv3kPBx48fQVKogAGF9/HD569f350+8erUiQ8fP3758uUHGHz+/Ondu3ffv38HGoFNM9Dsz5/fPHlyLTfjcU7qKROtq/WVN+8/2Ld375kzZ3ft3r1y1apz5869fv0aWT+S5i9f3jy4v01GeIco92YOhhORgZdu3ly7Zt2KFUCNaxYtXrJ69Zpnz559+vQJ7n4GNA/fXrvqSETQqcLsJ2fPfPryBWLPmzdvgM5+9/4dXj9/+Pj177+PP358+vPn88+fQMOAPgcCoG1g+iOaZgCd1zohuWvqigAAAABJRU5ErkJggg==","sizes":"(max-width: 1544px) 100vw, 1544px","src":"/static/9307800a1ac5e68d213bcdca2b67d01d/80f14/redis.png","srcSet":"/static/9307800a1ac5e68d213bcdca2b67d01d/c5c6c/redis.png 930w,\n/static/9307800a1ac5e68d213bcdca2b67d01d/80f14/redis.png 1544w"}}},"author":[{"id":"Woojin","bio":"This is another test author with a profile background image","avatar":{"children":[{"fluid":{"aspectRatio":1.3333333333333333,"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAPABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAQBAgP/xAAWAQEBAQAAAAAAAAAAAAAAAAADAQL/2gAMAwEAAhADEAAAAdV5qKgwXH//xAAZEAEBAAMBAAAAAAAAAAAAAAABAgADEgT/2gAIAQEAAQUC27SoISuJy/OsRz0g5//EABcRAQADAAAAAAAAAAAAAAAAAAABAhH/2gAIAQMBAT8BxNH/xAAXEQEAAwAAAAAAAAAAAAAAAAAAAREh/9oACAECAQE/AYxb/8QAGxAAAgMAAwAAAAAAAAAAAAAAAREAAiEQMUH/2gAIAQEABj8CC9iBeaOFWCgZsMc6n//EABsQAQADAQADAAAAAAAAAAAAAAEAESExQVGB/9oACAEBAAE/IXs9PYxNZPCyYB6zWAFPviCw7C9VE7Y//9oADAMBAAIAAwAAABAY7//EABYRAQEBAAAAAAAAAAAAAAAAAAEAEf/aAAgBAwEBPxDeJIt//8QAFxEBAQEBAAAAAAAAAAAAAAAAAQARUf/aAAgBAgEBPxBAMbfb/8QAGxABAQACAwEAAAAAAAAAAAAAAREAMSFBUYH/2gAIAQEAAT8Qb0BngyYMN1g0Xzu5DRTRVwq5Wq4D5nJCmiAqB5rJ3rJYZ//Z","sizes":"(max-width: 800px) 100vw, 800px","src":"/static/e51acbf8a0e98b7912a2f1b775f15047/2f1b1/woojin.jpg","srcSet":"/static/e51acbf8a0e98b7912a2f1b775f15047/fd013/woojin.jpg 200w,\n/static/e51acbf8a0e98b7912a2f1b775f15047/25252/woojin.jpg 400w,\n/static/e51acbf8a0e98b7912a2f1b775f15047/2f1b1/woojin.jpg 800w,\n/static/e51acbf8a0e98b7912a2f1b775f15047/0ff54/woojin.jpg 1200w,\n/static/e51acbf8a0e98b7912a2f1b775f15047/c4b07/woojin.jpg 1440w"}}]}}]},"fields":{"layout":"","slug":"/2020-08-28-redis-queue/index/"}},"next":{"excerpt":"FF(Fast Forward) git 에서 Fast Forward 현재 브랜치와 Merge 하려는 브랜치가 선형 관계에 있어 Merge 결과 별도의 커밋 없이 커밋을 위에 쌓기만 하는 것을 말한다. 그림으로 살펴보면 아래와 같다.  branch-…","timeToRead":1,"frontmatter":{"title":"(TIL) Git Merge --no-ff","tags":["git"],"date":"2020-09-11T00:00:00.000Z","draft":false,"excerpt":null,"image":{"childImageSharp":{"fluid":{"aspectRatio":2.3947368421052633,"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAAsSAAALEgHS3X78AAABbklEQVQoz23STStEURzH8eOpiIksJG9AyWjMHWZGDFlJmBm3PK6kLEYWJi+AkmKhWIjssfBMeQNkMaVpJM9lYyE0E5qMWRzfc52pWTj16X/uPff87v90r0j4nTnxgJEnGMwX8Qibuo77ndb9526HaLGLXJE1mmtFOZLo0NfV1sLLsFfosBHMI40LlKj77zpUbyqGjfA8HTiJSoSxj7JM2LQc8krqLKpkv1vNb+O6Ux02hnOc4gCjiCCER7xi0zpmynTJZK9LhdzDRAgPBF5+BIwKFUhXn2wYwARi+iUJ+Flbou5lurv5MRvkV9BQgdc4Rhgzst8jX3ocTeq5VrtYY9MZTjCuA5/QRuAqdUcHGmVsjshBjwrcRJfsc1sd02Ew68hHeMM2GlHvqxOSOocppLCR6bKU4DtqFAvff8c31ZqUUoUV4QrL2NJBHWiFF4Voh0+FZX4ZOjWiaY6f0J3FOmvys77uIVawjl0UiH/GL9wBtPP+UkP6AAAAAElFTkSuQmCC","sizes":"(max-width: 910px) 100vw, 910px","src":"/static/1b3432324c2162b2e05a2adfa0141511/a005f/git.png","srcSet":"/static/1b3432324c2162b2e05a2adfa0141511/a005f/git.png 910w"}}},"author":[{"id":"Woojin","bio":"This is another test author with a profile background image","avatar":{"children":[{"fluid":{"aspectRatio":1.3333333333333333,"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAPABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAQBAgP/xAAWAQEBAQAAAAAAAAAAAAAAAAADAQL/2gAMAwEAAhADEAAAAdV5qKgwXH//xAAZEAEBAAMBAAAAAAAAAAAAAAABAgADEgT/2gAIAQEAAQUC27SoISuJy/OsRz0g5//EABcRAQADAAAAAAAAAAAAAAAAAAABAhH/2gAIAQMBAT8BxNH/xAAXEQEAAwAAAAAAAAAAAAAAAAAAAREh/9oACAECAQE/AYxb/8QAGxAAAgMAAwAAAAAAAAAAAAAAAREAAiEQMUH/2gAIAQEABj8CC9iBeaOFWCgZsMc6n//EABsQAQADAQADAAAAAAAAAAAAAAEAESExQVGB/9oACAEBAAE/IXs9PYxNZPCyYB6zWAFPviCw7C9VE7Y//9oADAMBAAIAAwAAABAY7//EABYRAQEBAAAAAAAAAAAAAAAAAAEAEf/aAAgBAwEBPxDeJIt//8QAFxEBAQEBAAAAAAAAAAAAAAAAAQARUf/aAAgBAgEBPxBAMbfb/8QAGxABAQACAwEAAAAAAAAAAAAAAREAMSFBUYH/2gAIAQEAAT8Qb0BngyYMN1g0Xzu5DRTRVwq5Wq4D5nJCmiAqB5rJ3rJYZ//Z","sizes":"(max-width: 800px) 100vw, 800px","src":"/static/e51acbf8a0e98b7912a2f1b775f15047/2f1b1/woojin.jpg","srcSet":"/static/e51acbf8a0e98b7912a2f1b775f15047/fd013/woojin.jpg 200w,\n/static/e51acbf8a0e98b7912a2f1b775f15047/25252/woojin.jpg 400w,\n/static/e51acbf8a0e98b7912a2f1b775f15047/2f1b1/woojin.jpg 800w,\n/static/e51acbf8a0e98b7912a2f1b775f15047/0ff54/woojin.jpg 1200w,\n/static/e51acbf8a0e98b7912a2f1b775f15047/c4b07/woojin.jpg 1440w"}}]}}]},"fields":{"layout":"","slug":"/2020-09-11-til-git-merge-no-ff/index/"}},"primaryTag":"nginx"}},"staticQueryHashes":["1065875448","4129920265"]}